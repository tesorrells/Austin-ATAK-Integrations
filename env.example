# Austin ATAK Integrations Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# CoT Configuration (REQUIRED)
# =============================================================================
# Your TAK Server endpoint - examples:

# Option 1: TCP (simpler, no certificates needed)
# COT_URL=tcp://tak.yourdomain.com:8087
# COT_URL=tcp://192.168.1.100:8087
# COT_URL=tcp://atak-server.local:8087
COT_URL=tcp://tak.yourdomain.com:8087

# Option 2: TLS (requires certificates)
# COT_URL=tls://tak.yourdomain.com:8089
# COT_URL=tls://192.168.1.100:8089
# COT_URL=tls://atak-server.local:8089

# Client certificate for TAK Server authentication (TLS only)
# PYTAK_TLS_CLIENT_CERT=/certs/client.p12
# PYTAK_TLS_CLIENT_CERT_PASSWORD=your_cert_password_here
# PYTAK_TLS_CA=/certs/ca.pem

# =============================================================================
# SODA API Configuration (OPTIONAL but recommended)
# =============================================================================
# Get a free App Token from: https://dev.socrata.com/register
# This increases rate limits from 1000/hour to 10000/hour
SODA_APP_TOKEN=your_socrata_app_token_here

# =============================================================================
# Dataset Configuration (Austin Open Data)
# =============================================================================
# Fire incidents dataset (Austin Fire Department)
FIRE_DATASET=wpu4-x69d

# Traffic incidents dataset (Austin Police Department)  
TRAFFIC_DATASET=dx9v-zd7x

# =============================================================================
# Polling Configuration
# =============================================================================
# How often to poll for new incidents (seconds)
# Recommended: 45-60 seconds (Austin updates every ~5 minutes)
POLL_SECONDS=45

# How long CoT events stay "fresh" (minutes)
# Should be longer than poll interval to avoid gaps
COT_STALE_MINUTES=10

# How often to re-send active incidents (polling cycles)
# This ensures new TAK clients see existing incidents
# 5 = re-send every 5th poll (every ~3.75 minutes with 45s polling)
RESEND_ACTIVE_INTERVAL=5

# =============================================================================
# API Configuration
# =============================================================================
# Host and port for the FastAPI health/metrics endpoints
API_HOST=0.0.0.0
API_PORT=8080

# =============================================================================
# Database Configuration
# =============================================================================
# SQLite database for deduplication and state
DATABASE_URL=sqlite:///./app/store/seen.db

# =============================================================================
# Optional: Logging Configuration
# =============================================================================
# LOG_LEVEL=INFO
# LOG_LEVEL=DEBUG
